NGINX="my_nginx:latest"
MONGO="my_mongo:latest"
FLASK="my_flask:latest"
NETWORK="shouldinetwork"

docker network create --driver=bridge \
--subnet=172.18.0.0/16 \
--ip-range=172.18.0.0/24 \
--gateway=172.18.0.1 "${NETWORK}" 

docker build -f Dockerfile.nginx  . -t "${NGINX}" 
docker build -f Dockerfile.flask  . -t "${FLASK}"
docker build -f Dockerfile.mongod . -t "${MONGO}"

docker run -d          --network "${NETWORK}" --ip 172.18.0.2 "${FLASK}" 
docker run -d -p 80:80 --network "${NETWORK}" --ip 172.18.0.3 "${NGINX}" 
docker run -d          --network "${NETWORK}" --ip 172.18.0.4 "${MONGO}" 

netstat -lnat | grep -iE "80|8000|27017"
